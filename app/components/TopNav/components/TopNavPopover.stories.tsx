import type { Meta, StoryObj } from "@storybook/react";
import React from "react";
import { NavPopover } from "../../NavPopover";
import { TopNav } from "./TopNav";
import { mockNavFeatures, mockPartners, mockPartnerFeatures } from "../mocks/navData";

const PassportIcon = () => (
  <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M11.96 12.4649V16.0149C11.9588 16.1418 11.9913 16.2668 12.054 16.3772C12.1167 16.4875 12.2075 16.5793 12.3172 16.6433C12.4268 16.7073 12.5514 16.7411 12.6784 16.7414C12.8053 16.7416 12.9301 16.7084 13.04 16.6449L15.65 15.1649C15.9552 14.9887 16.2084 14.735 16.384 14.4294C16.5596 14.1238 16.6514 13.7773 16.65 13.4249V10.8749C16.6494 10.6073 16.5812 10.3442 16.4519 10.11C16.3225 9.87574 16.1361 9.67794 15.91 9.53489L12.85 7.59489C12.5807 7.42738 12.2678 7.34365 11.9509 7.35433C11.6339 7.36501 11.3273 7.46963 11.07 7.65489L8.06999 9.83489C7.86807 9.98388 7.70404 10.1783 7.59112 10.4024C7.47821 10.6265 7.41959 10.874 7.41999 11.1249V18.5449C7.41878 18.7875 7.47312 19.0272 7.57886 19.2456C7.68459 19.464 7.83891 19.6553 8.02999 19.8049L10.14 21.4649C10.6753 21.8807 11.3241 22.1243 12.0008 22.1636C12.6775 22.2029 13.3502 22.0359 13.93 21.6849L19.45 18.3149C19.9434 18.0197 20.3526 17.6024 20.6381 17.1033C20.9235 16.6041 21.0757 16.0399 21.08 15.4649V9.35489C21.0789 8.79118 20.9365 8.23674 20.6657 7.74233C20.3949 7.24791 20.0044 6.82933 19.53 6.52489L13.78 2.84489C13.2384 2.49729 12.6085 2.3125 11.965 2.3125C11.3215 2.3125 10.6915 2.49729 10.15 2.84489L4.45999 6.51489C3.98819 6.81891 3.60006 7.23628 3.33105 7.72888C3.06205 8.22148 2.92072 8.77362 2.91999 9.33489V17.5949"
      stroke="#3B3B3B"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    />
  </svg>
);

const PartnerIcon = () => (
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M9.00019 11.9991L11.0002 13.9991L15.0002 9.99912M3.85019 8.61912C3.70423 7.96165 3.72665 7.27796 3.91535 6.63146C4.10405 5.98496 4.45294 5.39657 4.92966 4.92084C5.40638 4.44512 5.9955 4.09747 6.6424 3.91012C7.2893 3.72277 7.97303 3.70179 8.63019 3.84912C8.9919 3.28342 9.4902 2.81788 10.0791 2.49541C10.6681 2.17293 11.3287 2.00391 12.0002 2.00391C12.6716 2.00391 13.3323 2.17293 13.9212 2.49541C14.5102 2.81788 15.0085 3.28342 15.3702 3.84912C16.0284 3.70114 16.7133 3.72203 17.3612 3.90983C18.0091 4.09764 18.599 4.44626 19.076 4.92327C19.5531 5.40029 19.9017 5.99019 20.0895 6.63812C20.2773 7.28605 20.2982 7.97095 20.1502 8.62912C20.7159 8.99083 21.1814 9.48912 21.5039 10.0781C21.8264 10.667 21.9954 11.3277 21.9954 11.9991C21.9954 12.6706 21.8264 13.3312 21.5039 13.9202C21.1814 14.5091 20.7159 15.0074 20.1502 15.3691C20.2975 16.0263 20.2765 16.71 20.0892 17.3569C19.9018 18.0038 19.5542 18.5929 19.0785 19.0697C18.6027 19.5464 18.0144 19.8953 17.3679 20.084C16.7213 20.2727 16.0377 20.2951 15.3802 20.1491C15.019 20.717 14.5203 21.1845 13.9303 21.5084C13.3404 21.8324 12.6782 22.0022 12.0052 22.0022C11.3322 22.0022 10.67 21.8324 10.0801 21.5084C9.49011 21.1845 8.99143 20.717 8.63019 20.1491C7.97303 20.2965 7.2893 20.2755 6.6424 20.0881C5.9955 19.9008 5.40638 19.5531 4.92966 19.0774C4.45294 18.6017 4.10405 18.0133 3.91535 17.3668C3.72665 16.7203 3.70423 16.0366 3.85019 15.3791C3.28015 15.0184 2.81061 14.5193 2.48524 13.9283C2.15988 13.3374 1.98926 12.6737 1.98926 11.9991C1.98926 11.3245 2.15988 10.6609 2.48524 10.0699C2.81061 9.47895 3.28015 8.97988 3.85019 8.61912Z"
      stroke="#0A0A0A"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    />
  </svg>
);

// Simple demo component
const NavDemo = () => {
  return (
    <div className="w-full min-h-[400px] bg-background p-8">
      <div className="flex gap-4 items-center h-16 bg-white rounded-lg px-4 shadow-sm">
        <div className="text-black font-bold text-lg">Human Passport</div>
        <div className="flex-shrink w-16" />
        <div className="relative flex flex-grow flex-shrink-0 gap-2">
          <NavPopover label="Passport" icon={<PassportIcon />}>
            <TopNav features={mockNavFeatures} partners={mockPartners} />
          </NavPopover>
          <NavPopover label="Partner with us" icon={<PartnerIcon />} size="compact">
            <TopNav features={mockPartnerFeatures} />
          </NavPopover>
        </div>
      </div>
    </div>
  );
};

const meta: Meta<typeof NavDemo> = {
  title: "Navigation/MinimalHeader",
  component: NavDemo,
  parameters: {
    layout: "fullscreen",
    backgrounds: {
      default: "light",
      values: [
        { name: "light", value: "#F5F5F5" },
        { name: "dark", value: "#122B33" },
      ],
    },
  },
};

export default meta;
type Story = StoryObj<typeof meta>;

// Default story showing the MinimalHeader
export const Default: Story = {
  args: {},
};
